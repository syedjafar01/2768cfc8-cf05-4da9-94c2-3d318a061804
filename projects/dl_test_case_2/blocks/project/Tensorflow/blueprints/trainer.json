{
  "version": "3.0.0",
  "description": "To train the DL model with selected optimizer, layers and data input",
  "name": "DLTrainBlock",
  "component_id": "trainFlowComponentId",
  "inputs": [
    {
      "render_type": "Text",
      "name": "epochs",
      "required": true,
      "description": "No of Epochs",
      "default": 10,
      "hidden": false,
      "label": "Epochs",
      "supportVar": false,
      "dataType": "integer",
      "dataFlowType": "atomic"
    },
    {
      "render_type": "Text",
      "name": "batch_size",
      "required": true,
      "description": "Batch Size",
      "default": 10,
      "hidden": false,
      "label": "Batch Size",
      "supportVar": false,
      "dataType": "integer",
      "dataFlowType": "atomic"
    },
    {
      "render_type": "SELECT_MODEL_FROM_BUILDER",
      "name": "model",
      "required": true,
      "description": "Train flow Default Input",
      "hidden": false,
      "label": "Model",
      "supportVar": false,
      "dataType": "json",
      "dataFlowType": "atomic",
      "request_definition": {
        "call_url": "/rztai/model-builder/:projectId/model/json_path"
      }
    },
    {
      "render_type": "RIGHTPANE_PROPERTY",
      "name": "callbacks",
      "required": false,
      "description": "Callbacks",
      "default": {},
      "hidden": false,
      "label": "CallBacks",
      "rightpaneRenderBlueprint": [
        {
          "render_type": "DropDown",
          "required": false,
          "optional": true,
          "data_type": "List",
          "possible_values": [
            {
              "render_type": "Form",
              "name": "EarlyStopping Callback",
              "required": true,
              "data_type": "Complex",
              "properties": [
                {
                  "render_type": "DropDown",
                  "internal_name": "metric",
                  "data_type": "List",
                  "default_value": "",
                  "possible_values": [],
                  "required": true,
                  "doc": "metric",
                  "request_definition": {
                    "call_url": "/rztai/model-builder/:projectId/model/:modelName/block_detail/METRIC,COST",
                    "call_key": {
                      "modelName": [
                        "model",
                        "value",
                        "name"
                      ]
                    }
                  },
                  "hidden": false,
                  "label": "Metric",
                  "dataType": "array",
                  "dataFlowType": "atomic"
                },
                {
                  "render_type": "DropDown",
                  "required": true,
                  "data_type": "List",
                  "possible_values": [
                    {
                      "required": true,
                      "data_type": null,
                      "hidden": false,
                      "internal_name": "VALID",
                      "label": "VALID",
                      "dataType": null,
                      "dataFlowType": null
                    },
                    {
                      "required": true,
                      "data_type": null,
                      "hidden": false,
                      "internal_name": "TRAIN",
                      "label": "TRAIN",
                      "dataType": null,
                      "dataFlowType": null
                    }
                  ],
                  "hidden": false,
                  "internal_name": "split",
                  "default_value": "VALID",
                  "label": "Split",
                  "dataType": null,
                  "dataFlowType": null
                },
                {
                  "render_type": "DropDown",
                  "required": true,
                  "data_type": "List",
                  "possible_values": [
                    {
                      "required": true,
                      "data_type": null,
                      "hidden": false,
                      "internal_name": "EPOCH_END",
                      "label": "EPOCH_END",
                      "dataType": null,
                      "dataFlowType": null
                    },
                    {
                      "required": true,
                      "data_type": null,
                      "hidden": false,
                      "internal_name": "SPLIT_END",
                      "label": "SPLIT_END",
                      "dataType": null,
                      "dataFlowType": null
                    }
                  ],
                  "hidden": false,
                  "internal_name": "interval_type",
                  "default_value": "SPLIT_END",
                  "label": "Interval Type",
                  "dataType": null,
                  "dataFlowType": null
                },
                {
                  "render_type": "DropDown",
                  "required": true,
                  "data_type": "List",
                  "possible_values": [
                    {
                      "required": true,
                      "data_type": null,
                      "hidden": false,
                      "internal_name": "MIN",
                      "label": "MIN",
                      "dataType": null,
                      "dataFlowType": null
                    },
                    {
                      "required": true,
                      "data_type": null,
                      "hidden": false,
                      "internal_name": "MAX",
                      "label": "MAX",
                      "dataType": null,
                      "dataFlowType": null
                    }
                  ],
                  "hidden": false,
                  "internal_name": "mode",
                  "default_value": "MIN",
                  "label": "Mode",
                  "dataType": null,
                  "dataFlowType": null
                },
                {
                  "render_type": "Text",
                  "name": "patience",
                  "required": true,
                  "optional": false,
                  "data_type": "Integer",
                  "default": 0,
                  "hidden": false,
                  "internal_name": "patience",
                  "default_value": 0,
                  "label": "Patience",
                  "dataType": "integer",
                  "dataFlowType": "atomic"
                },
                {
                  "render_type": "Text",
                  "name": "min_delta",
                  "required": true,
                  "optional": false,
                  "data_type": "Float",
                  "default": 0.0,
                  "hidden": false,
                  "internal_name": "min_delta",
                  "default_value": 0.0,
                  "label": "Min_delta",
                  "dataType": "float",
                  "dataFlowType": "atomic"
                },
                {
                  "render_type": "Checkbox",
                  "name": "restore_best_weights",
                  "required": true,
                  "data_type": "Boolean",
                  "default": false,
                  "hidden": false,
                  "internal_name": "restore_best_weights",
                  "default_value": false,
                  "label": "Restore_best_weights",
                  "dataType": "bool",
                  "dataFlowType": null
                },
                {
                  "render_type": "Text",
                  "name": "baseline",
                  "required": false,
                  "optional": true,
                  "data_type": "Float",
                  "default": null,
                  "hidden": false,
                  "internal_name": "baseline",
                  "default_value": null,
                  "label": "Baseline",
                  "dataType": "float",
                  "dataFlowType": "atomic"
                }
              ],
              "hidden": false,
              "internal_name": "EarlyStopping",
              "label": "EarlyStopping CallBack",
              "dataType": "Complex",
              "dataFlowType": null
            },
            {
              "render_type": "Form",
              "name": "ReduceLROnPlateau Callback",
              "required": true,
              "data_type": "Complex",
              "properties": [
                {
                  "render_type": "DropDown",
                  "internal_name": "optimizer",
                  "data_type": "List",
                  "default_value": "",
                  "possible_values": [],
                  "required": true,
                  "doc": "optimizer",
                  "request_definition": {
                    "call_url": "/rztai/model-builder/:projectId/model/:modelName/block_detail/OPTIMIZER",
                    "call_key": {
                      "modelName": [
                        "model",
                        "value",
                        "name"
                      ]
                    }
                  },
                  "hidden": false,
                  "label": "optimizer",
                  "dataType": "array",
                  "dataFlowType": "atomic"
                },
                {
                  "render_type": "DropDown",
                  "internal_name": "monitor",
                  "data_type": "List",
                  "default_value": "",
                  "possible_values": [],
                  "required": true,
                  "doc": "monitor",
                  "request_definition": {
                    "call_url": "/rztai/model-builder/:projectId/model/:modelName/block_detail/METRIC,COST",
                    "call_key": {
                      "modelName": [
                        "model",
                        "value",
                        "name"
                      ]
                    }
                  },
                  "hidden": false,
                  "label": "monitor",
                  "dataType": "array",
                  "dataFlowType": "atomic"
                },
                {
                  "render_type": "Text",
                  "name": "factor",
                  "required": true,
                  "optional": false,
                  "data_type": "Float",
                  "default": 0.1,
                  "hidden": false,
                  "internal_name": "factor",
                  "default_value": 0.1,
                  "label": "Factor",
                  "dataType": "float",
                  "dataFlowType": "atomic"
                },
                {
                  "render_type": "DropDown",
                  "required": true,
                  "data_type": "List",
                  "possible_values": [
                    {
                      "required": true,
                      "data_type": null,
                      "hidden": false,
                      "internal_name": "VALID",
                      "label": "VALID",
                      "dataType": null,
                      "dataFlowType": null
                    },
                    {
                      "required": true,
                      "data_type": null,
                      "hidden": false,
                      "internal_name": "TRAIN",
                      "label": "TRAIN",
                      "dataType": null,
                      "dataFlowType": null
                    }
                  ],
                  "hidden": false,
                  "internal_name": "split",
                  "default_value": "TRAIN",
                  "label": "Split",
                  "dataType": null,
                  "dataFlowType": null
                },
                {
                  "render_type": "DropDown",
                  "required": true,
                  "data_type": "List",
                  "possible_values": [
                    {
                      "required": true,
                      "data_type": null,
                      "hidden": false,
                      "internal_name": "EPOCH_END",
                      "label": "EPOCH_END",
                      "dataType": null,
                      "dataFlowType": null
                    },
                    {
                      "required": true,
                      "data_type": null,
                      "hidden": false,
                      "internal_name": "SPLIT_END",
                      "label": "SPLIT_END",
                      "dataType": null,
                      "dataFlowType": null
                    }
                  ],
                  "hidden": false,
                  "internal_name": "interval_type",
                  "default_value": "EPOCH_END",
                  "label": "Interval Type",
                  "dataType": null,
                  "dataFlowType": null
                },
                {
                  "render_type": "Checkbox",
                  "name": "verbose",
                  "required": true,
                  "data_type": "Boolean",
                  "default": true,
                  "hidden": false,
                  "internal_name": "verbose",
                  "default_value": true,
                  "label": "Verbose",
                  "dataType": "bool",
                  "dataFlowType": null
                },
                {
                  "render_type": "Text",
                  "name": "cooldown",
                  "required": true,
                  "optional": false,
                  "data_type": "Integer",
                  "default": 0,
                  "hidden": false,
                  "internal_name": "cooldown",
                  "default_value": 0,
                  "label": "Cooldown",
                  "dataType": "integer",
                  "dataFlowType": "atomic"
                },
                {
                  "render_type": "Text",
                  "name": "min_lr",
                  "required": true,
                  "optional": false,
                  "data_type": "Float",
                  "default": 0,
                  "hidden": false,
                  "internal_name": "min_lr",
                  "default_value": 0,
                  "label": "Min_lr",
                  "dataType": "float",
                  "dataFlowType": "atomic"
                },
                {
                  "render_type": "Text",
                  "name": "frequency",
                  "required": true,
                  "optional": false,
                  "data_type": "Integer",
                  "default": 1,
                  "hidden": false,
                  "internal_name": "frequency",
                  "default_value": 1,
                  "label": "Frequency",
                  "dataType": "integer",
                  "dataFlowType": "atomic"
                },
                {
                  "render_type": "Text",
                  "name": "patience",
                  "required": true,
                  "optional": false,
                  "data_type": "Integer",
                  "default": 10,
                  "hidden": false,
                  "internal_name": "patience",
                  "default_value": 10,
                  "label": "Patience",
                  "dataType": "integer",
                  "dataFlowType": "atomic"
                },
                {
                  "render_type": "Text",
                  "name": "min_delta",
                  "required": true,
                  "optional": false,
                  "data_type": "Float",
                  "default": 0.0001,
                  "hidden": false,
                  "internal_name": "min_delta",
                  "default_value": 0.0001,
                  "label": "Min_delta",
                  "dataType": "float",
                  "dataFlowType": "atomic"
                },
                {
                  "render_type": "DropDown",
                  "required": true,
                  "data_type": "List",
                  "possible_values": [
                    {
                      "required": true,
                      "data_type": null,
                      "hidden": false,
                      "internal_name": "MAX",
                      "label": "MAX",
                      "dataType": null,
                      "dataFlowType": null
                    },
                    {
                      "required": true,
                      "data_type": null,
                      "hidden": false,
                      "internal_name": "MIN",
                      "label": "MIN",
                      "dataType": null,
                      "dataFlowType": null
                    }
                  ],
                  "hidden": false,
                  "internal_name": "mode",
                  "default_value": "MIN",
                  "label": "Mode",
                  "dataType": null,
                  "dataFlowType": null
                }
              ],
              "hidden": false,
              "internal_name": "ReduceLROnPlateau",
              "label": "ReduceLROnPlateau CallBack",
              "dataType": "Complex",
              "dataFlowType": null
            }
          ],
          "hidden": false,
          "repeatable": true,
          "internal_name": "callback",
          "default_value": null,
          "label": "CallBack",
          "dataType": null,
          "dataFlowType": null
        }
      ],
      "supportVar": false,
      "dataType": "json",
      "dataFlowType": "atomic"
    },
    {
      "render_type": "OPTIMIZERS",
      "name": "optimizers",
      "required": true,
      "description": "Optimizers",
      "request_definition": {
        "call_url": "/rztai/model-builder/:projectId/model/:modelName/block_detail/OPTIMIZER",
        "call_key": {
          "modelName": [
            "model",
            "value",
            "name"
          ]
        }
      },
      "hidden": false,
      "label": "Optimizers",
      "rightpaneRenderBlueprint": [
        {
          "render_type": "DropDown",
          "name": "learning_rate",
          "required": true,
          "data_type": "list",
          "possible_values": [
            {
              "render_type": "Form",
              "name": "ConstantLR",
              "required": true,
              "data_type": "Complex",
              "properties": [
                {
                  "render_type": "Text",
                  "name": "learning_rate",
                  "required": true,
                  "data_type": "Float",
                  "default": 0.01,
                  "hidden": false,
                  "internal_name": "learning_rate",
                  "default_value": 0.01,
                  "label": "Learning Rate",
                  "dataType": "float",
                  "dataFlowType": "atomic"
                }
              ],
              "hidden": false,
              "internal_name": "ConstantLR",
              "label": "Constant Lr",
              "dataType": "Complex",
              "dataFlowType": null
            },
            {
              "render_type": "Form",
              "name": "ExponentialDecay",
              "required": true,
              "data_type": "Complex",
              "properties": [
                {
                  "render_type": "Text",
                  "name": "decay_steps",
                  "required": true,
                  "data_type": "Integer",
                  "default": 1,
                  "hidden": false,
                  "internal_name": "decay_steps",
                  "default_value": 1,
                  "label": "Decay Steps",
                  "dataType": "integer",
                  "dataFlowType": "atomic"
                },
                {
                  "render_type": "Text",
                  "name": "decay_rate",
                  "required": true,
                  "data_type": "Float",
                  "default": 0.96,
                  "hidden": false,
                  "internal_name": "decay_rate",
                  "default_value": 0.96,
                  "label": "Decay Rate",
                  "dataType": "float",
                  "dataFlowType": "atomic"
                },
                {
                  "render_type": "Text",
                  "name": "initial_learning_rate",
                  "required": true,
                  "data_type": "Float",
                  "default": 0.11,
                  "hidden": false,
                  "internal_name": "initial_learning_rate",
                  "default_value": 0.11,
                  "label": "Initial Learning Rate",
                  "dataType": "float",
                  "dataFlowType": "atomic"
                },
                {
                  "render_type": "Checkbox",
                  "name": "staircase",
                  "required": false,
                  "data_type": "Boolean",
                  "hidden": false,
                  "internal_name": "staircase",
                  "label": "Staircase",
                  "dataType": "boolean",
                  "dataFlowType": "atomic"
                }
              ],
              "hidden": false,
              "internal_name": "ExponentialDecay",
              "label": "Exponential Decay",
              "dataType": "Complex",
              "dataFlowType": null
            }
          ],
          "hidden": false,
          "internal_name": "learning_rate",
          "default_value": "ConstantLR",
          "label": "Learning Rate",
          "dataType": null,
          "dataFlowType": null
        }
      ],
      "supportVar": false,
      "dataType": "json",
      "dataFlowType": "atomic"
    },
    {
      "render_type": "SELECT_METRICS",
      "name": "metrics",
      "required": true,
      "description": "metrics",
      "request_definition": {
        "call_url": "/rztai/model-builder/:projectId/model/:modelName/block_detail/METRIC,COST",
        "call_key": {
          "modelName": [
            "model",
            "value",
            "name"
          ]
        }
      },
      "hidden": false,
      "label": "Metrics",
      "supportVar": false,
      "dataType": "json",
      "dataFlowType": "atomic"
    },
    {
      "render_type": "RIGHTPANE_PROPERTY",
      "name": "valid_split",
      "required": false,
      "description": "Configuration for valid split",
      "default": {},
      "hidden": false,
      "label": "Valid Split",
      "rightpaneRenderBlueprint": [
        {
          "render_type": "DropDown",
          "required": true,
          "data_type": "List",
          "possible_values": [
            {
              "required": true,
              "data_type": null,
              "hidden": false,
              "internal_name": "EPOCH",
              "label": "Epoch",
              "dataType": null,
              "dataFlowType": null
            },
            {
              "required": true,
              "data_type": null,
              "hidden": false,
              "internal_name": "BATCH",
              "label": "Batch",
              "dataType": null,
              "dataFlowType": null
            }
          ],
          "hidden": false,
          "internal_name": "interval_type",
          "default_value": "EPOCH",
          "label": "Interval Type",
          "dataType": null,
          "dataFlowType": null
        },
        {
          "render_type": "Text",
          "required": true,
          "data_type": "Integer",
          "hidden": false,
          "internal_name": "frequency",
          "default_value": 1,
          "label": "Frequency",
          "dataType": null,
          "dataFlowType": null
        }
      ],
      "supportVar": false,
      "dataType": "json",
      "dataFlowType": "atomic"
    },
    {
      "render_type": "NO_PROPERTY_DENT",
      "name": "train_data",
      "required": true,
      "hidden": false,
      "label": "Train Data",
      "supportVar": false,
      "dataType": "generic",
      "dataFlowType": "series"
    },
    {
      "render_type": "NO_PROPERTY_DENT",
      "name": "test_data",
      "required": false,
      "optional": true,
      "default": [],
      "hidden": false,
      "label": "Test Data",
      "supportVar": false,
      "dataType": "array",
      "dataFlowType": "series"
    },
    {
      "render_type": "NO_PROPERTY_DENT",
      "name": "valid_data",
      "required": false,
      "optional": true,
      "default": [],
      "hidden": false,
      "label": "Valid Data",
      "supportVar": false,
      "dataType": "array",
      "dataFlowType": "series"
    },
    {
      "render_type": "Text",
      "name": "learning_rate",
      "required": false,
      "description": "Learning Rate",
      "default": 10,
      "hidden": true,
      "label": "Learning Rate",
      "supportVar": false,
      "dataType": "integer",
      "dataFlowType": "atomic"
    },
    {
      "render_type": "Text",
      "name": "save_path",
      "required": false,
      "description": "Save Path",
      "default": "default_save_path",
      "hidden": true,
      "label": "Save Path",
      "supportVar": false,
      "dataType": "atomic",
      "dataFlowType": "atomic"
    },
    {
      "render_type": "Text",
      "name": "valid_interval",
      "required": false,
      "description": "Valid Interval",
      "default": "EPOCH",
      "hidden": true,
      "label": "Valid Interval",
      "supportVar": false,
      "dataType": "atomic",
      "dataFlowType": "atomic"
    },
    {
      "render_type": "Text",
      "name": "valid_frequency",
      "required": false,
      "description": "Valid Frequency",
      "default": 1,
      "hidden": true,
      "label": "Valid Frequency",
      "supportVar": false,
      "dataType": "integer",
      "dataFlowType": "atomic"
    }
  ],
  "outputs": [
    {
      "render_type": "NO_PROPERTY_DENT",
      "name": "saved_path",
      "required": true,
      "description": "Trained model key",
      "hidden": false,
      "label": "Saved Model",
      "supportVar": false,
      "dataType": "generic",
      "dataFlowType": "atomic"
    }
  ],
  "technology": "PYTHON",
  "label": "Dl Train Block",
  "resourceSpec": {
    "cores": 2,
    "gpu": 0,
    "kafkaRequired": false,
    "memory": 2048,
    "runEnv": "CPU",
    "useGpu": false,
    "useGpuIfAvailable": false
  }
}